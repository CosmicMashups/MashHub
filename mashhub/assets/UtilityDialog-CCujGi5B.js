import{r as a,j as e}from"./vendor-react-BqYHFrkR.js";import{u as j}from"./index-DrdfCScI.js";import{S as y,a as v}from"./Sheet-DSnqxl5f.js";import{X as N,J as d,K as w,U as k,H as E,N as m,O as x}from"./vendor-lucide-Bb8j8FOq.js";import"./vendor-dexie-CKmTJlxL.js";import"./vendor-exceljs-Et7_ggJF.js";import"./vendor-dnd-dosGBBqk.js";import"./vendor-fuse-Dw8P0qyA.js";import"./vendor-motion-DuQQDTmZ.js";function S(){const[t,s]=a.useState("dark");return a.useEffect(()=>{const r=localStorage.getItem("theme");s(r||"dark")},[]),a.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark"),localStorage.setItem("theme",t)},[t]),{theme:t,toggleTheme:()=>{s(r=>r==="light"?"dark":"light")}}}function F({isOpen:t,onClose:s,songsCount:o,projectsCount:r,onImport:h,onExport:u,onReloadCsv:f}){const{theme:l,toggleTheme:p}=S(),c=a.useRef(null);a.useEffect(()=>{if(!t)return;const i=b=>{b.key==="Escape"&&s()};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[t,s]),a.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),a.useEffect(()=>{t&&c.current&&c.current.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')?.focus()},[t]);const g=j();if(!t)return null;const n=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-theme-border-default",children:[e.jsx("h2",{id:"utility-dialog-title",className:"text-lg md:text-xl font-semibold text-theme-text-primary",children:"Utilities"}),e.jsx("button",{onClick:s,className:"p-2 min-w-[44px] min-h-[44px] flex items-center justify-center text-theme-text-muted hover:text-theme-text-secondary transition-colors rounded-md","aria-label":"Close utilities dialog",children:e.jsx(N,{size:20,className:"md:w-6 md:h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide mb-3 text-theme-text-secondary",children:"Analytics"}),e.jsx("div",{className:"bg-theme-bg-secondary rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{size:16,className:"text-music-electric"}),e.jsx("span",{className:"text-sm text-theme-text-secondary",children:o}),e.jsx("span",{className:"text-xs text-theme-text-muted",children:"songs"})]}),e.jsx("div",{className:"w-px h-6 bg-theme-border-default"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(w,{size:16,className:"text-music-wave"}),e.jsx("span",{className:"text-sm text-theme-text-secondary",children:r}),e.jsx("span",{className:"text-xs text-theme-text-muted",children:"projects"})]})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide mb-3 text-theme-text-secondary",children:"Data Management"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>{h(),s()},className:"w-full flex items-center px-4 py-3 text-sm text-theme-text-secondary hover:bg-theme-state-hover rounded-lg transition-colors",children:[e.jsx(k,{size:16,className:"mr-3"}),"Import"]}),e.jsxs("button",{onClick:()=>{u(),s()},className:"w-full flex items-center px-4 py-3 text-sm text-theme-text-secondary hover:bg-theme-state-hover rounded-lg transition-colors",children:[e.jsx(E,{size:16,className:"mr-3"}),"Export"]}),e.jsxs("button",{onClick:()=>{f(),s()},className:"w-full flex items-center px-4 py-3 text-sm text-theme-text-secondary hover:bg-theme-state-hover rounded-lg transition-colors",children:[e.jsx(d,{size:16,className:"mr-3"}),"Reload CSV"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide mb-3 text-theme-text-secondary",children:"Display Settings"}),e.jsx("div",{className:"bg-theme-bg-secondary rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[l==="light"?e.jsx(m,{size:16,className:"text-theme-text-secondary"}):e.jsx(x,{size:16,className:"text-theme-text-secondary"}),e.jsxs("span",{className:"text-sm text-theme-text-secondary",children:[l==="light"?"Light":"Dark"," Mode"]})]}),e.jsx("button",{onClick:p,className:"relative p-2 rounded-lg bg-theme-surface-base text-theme-text-secondary hover:bg-theme-state-hover border border-theme-border-default transition-all duration-200","aria-label":`Switch to ${l==="light"?"dark":"light"} mode`,children:e.jsxs("div",{className:"relative w-5 h-5",children:[e.jsx(m,{size:16,className:`absolute inset-0 transition-all duration-300 ${l==="light"?"opacity-100 rotate-0 scale-100":"opacity-0 rotate-90 scale-75"}`}),e.jsx(x,{size:16,className:`absolute inset-0 transition-all duration-300 ${l==="dark"?"opacity-100 rotate-0 scale-100":"opacity-0 -rotate-90 scale-75"}`})]})})]})})]})]})]});return g?e.jsx(y,{open:t,onOpenChange:s,children:e.jsx(v,{side:"bottom",className:"h-[85vh] p-0 flex flex-col",showDragHandle:!0,children:e.jsx("div",{className:"flex-1 overflow-y-auto bg-white dark:bg-gray-800",children:e.jsx(n,{})})})}):e.jsx("div",{className:"modal-overlay",onClick:s,role:"dialog","aria-modal":"true","aria-labelledby":"utility-dialog-title",children:e.jsx("div",{ref:c,className:"modal-content max-w-md",onClick:i=>i.stopPropagation(),role:"document",children:e.jsx(n,{})})})}export{F as UtilityDialog};
